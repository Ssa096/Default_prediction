{"creationTimeStamp":null,"modifiedTimeStamp":null,"createdBy":null,"modifiedBy":null,"version":2,"id":null,"name":"Project_flow.flw","description":null,"properties":{"UI_PROP_DF_OPTIMIZE":"false","UI_PROP_DF_ID":"6240aaa8-f147-4471-933b-8c02029d456e","UI_PROP_DF_EXECUTION_ORDERED":"false"},"links":[],"nodes":{"id-1731181419056-912":{"nodeType":"step","version":1,"id":"id-1731181419056-912","name":"Feature selection - Pearson Correlation","note":{"version":1,"id":"id-1731181419056-916","name":null,"description":"Wielowymiarowa selekcja zmiennych\n1. Analiza korelacji między zmiennymi objaśniającymi (za zmienne wysoko skorelowane ze sobą uznaje takie, dla których wartość bezwzględna współczynnika korelacji Pearsona wynosi co najmniej 70%, docelowy wybór selekcji ma nie zawierać takich zmiennych).\n","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":0,"properties":{"UI_PROP_XPOS":"914","UI_PROP_YPOS":"-158","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_OUTPUT_PORT|outTables|0":"69682687-1ac3-4c08-ab70-dcbed7105b8d|Output table 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"773878fa-0682-4ea8-b333-c63b0992a96b","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"%macro selection_pc();\n\t%let eliminate=1;\n\tproc hpcorr data=DEFAULT.DATA_STANDARDIZED_4 nosimple noprob rank outp=work.PC;\n\t\tvar A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 \n\t\t\tA22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 A40 \n\t\t\tA41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 A59 \n\t\t\tA60 A61 A62 A63 A64;\n\trun;\n\tproc sql;\n\t\tcreate table ps_corr as\n\t\tselect a.*, b.gini\n\t\tfrom PC as a\n\t\tleft join gini as b on a._name_ = b.var\n\t\twhere a._type_ eq 'CORR'\n\t;\n\tquit;\n\t\n\tdata ps_corr;\n\t\tset ps_corr;\n\t\tarray A A1-A64;\n\t\tnum=0;\n\t\tdo i=1 to 64;\n\t\t\tif 1 > abs(A[i]) >= 0.7 then num+1;\n\t\tend;\n\t\tdrop i;\n\trun;\n\n\tproc sort data=ps_corr;\n\t\tby descending num gini;\n\trun;\n\n\tdata _null_;\n\t\tset ps_corr;\n\t\tif _N_ eq 1 then do;\n\t\t\tcall symputx (\"var\", _name_);\n\t\t\teliminate = max(0, num);\n\t\t\tcall symputx (\"eliminate\", eliminate);\n\t\tend;\n\trun;\n\n\t%do %while(&eliminate gt 0);\n\t\tdata ps_corr;\n\t\t\tset ps_corr;\n\t\t\twhere _name_ ne \"&var.\";\n\t\t\tdrop &var.;\n\t\trun;\n\t\tproc sql noprint;\n\t\t\tselect _name_\n\t\t\tinto :list separated by ' '\n\t\t\tfrom ps_corr\n\t\t;\n\t\tquit;\n\t\tdata ps_corr;\n\t\t\tset ps_corr;\n\t\t\tarray A &list.;\n\t\t\tnum=0;\n\t\t\tdo i=1 to dim(A);\n\t\t\t\tif 1 > abs(A[i]) >= 0.7 then num+1;\n\t\t\tend;\n\t\t\tdrop i;\n\t\trun;\n\t\tproc sort data=ps_corr;\n\t\t\tby descending num gini;\n\t\trun;\n\n\t\tdata _null_;\n\t\t\tset ps_corr;\n\t\t\tif _N_ eq 1 then do;\n\t\t\t\tcall symputx (\"var\", _name_);\n\t\t\t\teliminate = max(0, num);\n\t\t\t\tcall symputx (\"eliminate\", eliminate);\n\t\t\tend;\n\t\trun;\n\t%end;\n\tdata default.data_fs_ps_corr_5a;\n\t\tset default.data_standardized_4;\n\t\tkeep &list. year y;\n\trun;\n%mend;\n%selection_pc();","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1731235012651-13720":{"nodeType":"step","version":1,"id":"id-1731235012651-13720","name":"Feature selection - Decision Tree","note":{"version":1,"id":"id-1731235012652-13724","name":null,"description":"Wielowymiarowa selekcja zmiennych\n2. Zbudowanie prostego drzewa decyzyjnego i na jego podstawie wybór zmiennych (wybrane zostają zmienne, których współczynnik wartości przekracza 10%).","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":1,"properties":{"UI_PROP_XPOS":"917","UI_PROP_YPOS":"-45","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_OUTPUT_PORT|outTables|0":"38a0758a-623f-47ab-a6c6-68a1f070ca91|Output table 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"ec4c8246-8595-47e7-b84c-845d931653b2","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"proc treesplit data=MYCAS.DATA_STANDARDIZED_4 maxdepth=10;\n\tinput A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 \n\t\tA21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 \n\t\tA40 A41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 \n\t\tA59 A60 A61 A62 A63 A64 / level=interval;\n\ttarget y / level=nominal;\n\tgrow entropy;\n\tprune none;\n\tods output VariableImportance=work.DT_importance;\nrun;\n\nproc sql noprint;\n\tselect variable\n\tinto :list separated by ' '\n\tfrom DT_importance\n\twhere relativeImportance >= 0.1\n\t;\nquit;\n\ndata default.data_fs_dt_5b;\n\tset default.data_standardized_4;\n\tkeep &list. year y;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1730741051277-11078":{"nodeType":"step","version":1,"id":"id-1730741051277-11078","name":"Data exploration","note":{"version":1,"id":"id-1730741051278-11082","name":null,"description":null,"properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":2,"properties":{"UI_PROP_XPOS":"311","UI_PROP_YPOS":"52","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"7f2b9326-7891-42d8-8b1c-dd8c65a3a3ae","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables","UI_PROP_PORT_ID|outTables|0":"4500667e-429b-41ec-ad0a-62a238fe1c02","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"ods noproctitle;\nods graphics / imagemap=on;\n\nproc univariate data=DEFAULT.DATA_WITHOUT_OUTLIERS_2 vardef=df noprint;\n\tvar A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 \n\t\tA22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 A40 \n\t\tA41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 A59 \n\t\tA60 A61 A62 A63 A64;\n\thistogram A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 \n\t\tA20 A21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 \n\t\tA39 A40 A41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 \n\t\tA58 A59 A60 A61 A62 A63 A64;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1730742920398-16804":{"nodeType":"step","version":1,"id":"id-1730742920398-16804","name":"Missing  data removal","note":{"version":1,"id":"id-1730742920400-16808","name":null,"description":"Wartości brakujące danej zmiennej dla danego roku sa uzupełniane średnią jej wartości dla tego roku (zmienne A2-A64) bądź medianą jej wartości dla tego roku (zmienna A1).","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":3,"properties":{"UI_PROP_XPOS":"478","UI_PROP_YPOS":"60","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"11b3b7b8-5940-4e51-bea0-f21848edadda","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables","UI_PROP_PORT_ID|outTables|0":"cc7176fe-d769-4abe-94cd-3bbef04b2a61","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"ods noproctitle;\nods graphics / imagemap=on;\n\nproc sort data=DEFAULT.DATA_WITHOUT_OUTLIERS_2 out=WORK.TempSorted2236;\n\tby year;\nrun;\n\nproc means data=WORK.TempSorted2236 chartype mean median vardef=df noprint;\n\tvar A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 \n\t\tA22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 A40 \n\t\tA41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 A59 \n\t\tA60 A61 A62 A63 A64;\n\toutput out=work.Means_stats_1 mean=median= / autoname;\n\tby year;\nrun;\n\ndata default.DATA_WITHOUT_MISSING_3;\n\tmerge default.DATA_WITHOUT_OUTLIERS_2(in=inA) Means_stats_1;\n\tby year;\n\tif inA;\n\tarray num _NUMERIC_;\n\tif missing(A1) then A1=A1_MEDIAN;\n\tdo i=3 to 65;\n\t\tif missing(num[i]) then num[i] = num[i+67];\n \tend;\n\tkeep year y A1-A64;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1731169599075-2742":{"nodeType":"step","version":1,"id":"id-1731169599075-2742","name":"Standardization","note":{"version":1,"id":"id-1731169599076-2746","name":null,"description":"Klasyczna standaryzacja min-max.","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":4,"properties":{"UI_PROP_XPOS":"634","UI_PROP_YPOS":"81","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"ee7c34e3-8460-46d8-90fa-e953c75cf657","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables","UI_PROP_PORT_ID|outTables|0":"e3b4ae84-770b-451f-945f-e4b708524be9","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"data DEFAULT.DATA_STANDARDIZED_4;\n\tset default.data_without_missing_3;\nrun;\n\n%macro standardise();\n\t%do i=1 %to 64;\n\t\tproc sql noprint;\n\t\t\tselect min(A&i.), max(A&i.)\n\t\t\tinto :min, :max\n\t\t\tfrom default.data_standardized_4\n\t\t;\n\t\tquit;\n\t\tdata default.data_standardized_4;\n\t\t\tset default.data_standardized_4;\n\t\t\tA&i. = (A&i. - &min.)/(&max. - &min.);\n\t\trun;\n\t%end;\n%mend;\n\n%standardise();","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1730696714230-3540":{"nodeType":"step","version":1,"id":"id-1730696714230-3540","name":"Outliers removal","note":{"version":1,"id":"id-1730696714231-3544","name":null,"description":"Klasyczna detekcja outlierów - za outlier uznaję wartość zmiennej, która jest mniejsza niż pierwszy kwartyl pomniejszony o trzy drugie rozstępu ćwiartkowego lub większa niż trzeci kwartyl powiększony o trzy drugie rozstępu ćwiartkowego.\nW przypadku bycia outlierem, wartość zostaje obcięta do najbliższej wartości nie będącej outlierem.","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":5,"properties":{"UI_PROP_XPOS":"162","UI_PROP_YPOS":"86","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"74c69351-ceea-4e3b-926f-aed3af76d1b1","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables","UI_PROP_PORT_ID|outTables|0":"f32b20d6-20b4-4de9-bfb2-715a56d914fd","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"%macro outliers();\n\t%do i=1 %to 64;\n\t\tproc means data=DEFAULT.DATA_1 chartype n vardef=df q1 q3 qmethod=os noprint;\n\t\t\tvar A&i.;\n\t\t\toutput out=work.Means_stats n=q1=q3= / autoname;\n\t\trun;\n\t\tdata _null_;\n\t\t\tset work.MEANS_STATS;\n\t\t\tcall symputx(\"q1\", A&i._Q1);\n\t\t\tcall symputx(\"q3\", A&i._Q3);\n\t\t\tcall symputx(\"num\", A&i._N);\n\t\trun;\n\t\tdata temp;\n\t\t\tlength var $3.;\n\t\t\tset default.data_1 end=last;\n\t\t\tvar=\"A&i.\";\n\t\t\tnum_non_miss=&num.;\n\t\t\tretain num_outl 0;\n\t\t\tif A&i. > &q3. + 1.5*(&q3. - &q1.) or A&i. < &q1. - 1.5*(&q3. - &q1.) then num_outl+1;\n\t\t\tif last then do;\n\t\t\t\tkeep var num_non_miss num_outl;\n\t\t\t\toutput;\n\t\t\t\tnum_outl=0;\n\t\t\tend;\n\t\trun;\n\t\t%if &i=1 %then %do;\n\t\t\tdata outlier_data;\n\t\t\t\tset temp;\n\t\t\trun;\n\t\t\tdata DEFAULT.DATA_WITHOUT_OUTLIERS_2;\n\t\t\t\tset DEFAULT.data_1;\n\t\t\t\tA&i. = max(min(A&i., &q3. + 1.5*(&q3. - &q1.)), &q1. + 1.5*(&q3.-&q1.));\n\t\t\trun;\n\t\t%end;\n\t\t%else %do;\n\t\t\tdata outlier_data;\n\t\t\t\tset outlier_data temp;\n\t\t\trun;\n\t\t\tdata DEFAULT.DATA_WITHOUT_OUTLIERS_2;\n\t\t\t\tset DEFAULT.DATA_WITHOUT_OUTLIERS_2;\n\t\t\t\tA&i. = max(min(A&i., &q3. + 1.5*(&q3. - &q1.)), &q1. - 1.5*(&q3.-&q1.));\n\t\t\trun;\n\t\t%end;\n\t%end;\n%mend;\n\n%outliers();","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1731170174739-5986":{"nodeType":"step","version":1,"id":"id-1731170174739-5986","name":"GINI","note":{"version":1,"id":"id-1731170174739-5990","name":null,"description":"Obliczenie wartości GINI miało posłużyć wstępnej selekcji zmiennych, za threshold przyjąłem 10%. Wszystkie zmienne uzyskały wyniki powyżej 10%, co uznałem za niewystarczający dowód na usunięcie którejkolwiek z nich, przynajmniej na tym etapie.","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":6,"properties":{"UI_PROP_XPOS":"764","UI_PROP_YPOS":"88","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"de40020e-8b10-4aba-b15d-5c50fa9a1c50","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables","UI_PROP_PORT_ID|outTables|0":"d4803f9f-0226-4cc4-a6a1-bd11635e403c","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"%macro gini();\n\tproc sql noprint;\n\t\tselect count(*)\n\t\tinto :n\n\t\tfrom default.data_standardized_4\n\t;\n\tquit;\n\t\n\t%do i=1 %to 64;\n\t\tproc sort data=default.data_standardized_4(keep=A&i.) out=temp;\n\t\t\tby A&i.;\n\t\trun;\n\t\tdata gini_A&i.;\n\t\t\tset temp end=last;\n\t\t\tretain i 1 sum1 0 sum2 0;\n\t\t\tsum1 = sum1 + (2*i - &n. - 1)*A&i.;\n\t\t\tsum2+A&i.;\n\t\t\ti+1;\n\t\t\tif last then do;\n\t\t\t\tvar = \"A&i.\";\n\t\t\t\tgini = sum1 / (&n. * sum2);\n\t\t\t\tkeep var gini;\n\t\t\t\toutput;\n\t\t\tend;\n\t\trun;\n\t%end;\n\tdata gini;\n\t\tlength var $3.;\n\t\tset gini_A:;\n\trun;\n%mend;\n\n%gini();\n\nproc casutil;\n   load data=default.data_standardized_4 casout=\"data_standardized_4\" replace;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1730648461914-1496":{"nodeType":"step","version":1,"id":"id-1730648461914-1496","name":"Import CSV File","note":{"version":1,"id":"id-1730648461917-1500","name":null,"description":null,"properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":7,"properties":{"UI_PROP_XPOS":"14","UI_PROP_YPOS":"90","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_INPUT_PORT|inTables|0":"0f35536a-85de-487b-9e5d-b2d32fb242c2|Input table 1|Input tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|outTables|0":"93b2ecad-b56a-4bd5-b2af-8d73304acb97","UI_PROP_PORT_LABEL|outTables|0":"Output table 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"/* Import a csv file from the location specified on the filename statement */\n/* The SAS data set created is named by substituting a name for work.mycsv */\n\nfilename csv \"/export/viya/homes/01171238@pw.edu.pl/Default_prediction/Data/data.csv\";\n\nproc options option=(CASHOST CASPORT);\nrun;\n\ncas mysess;\nlibname mycas cas sessref=mysess;\n\n/* Import the CSV file  */\nproc import datafile=csv out=DEFAULT.data_1 dbms=csv replace;\n   getnames=yes;\n   run;\n","logHTML":"","resultsHTML":"","variables":[{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}},{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}}],"contentType":"embedded"}}},"id-1731236214474-18203":{"nodeType":"step","version":1,"id":"id-1731236214474-18203","name":"Feature selection - Random Forest","note":{"version":1,"id":"id-1731236214475-18207","name":null,"description":"Wielowymiarowa selekcja zmiennych\n3. Zbudowanie prostego lasu losowego i na jego podstawie wybór zmiennych (wybrane zostają zmienne, których współczynnik wartości przekracza 10%).","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":8,"properties":{"UI_PROP_XPOS":"918","UI_PROP_YPOS":"116","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_OUTPUT_PORT|outTables|0":"a9e10e47-a9a5-433a-a6de-d30174571e55|Output table 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"ac81a208-3970-46d2-b1ff-0dcdfc9d36e5","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"proc forest data=MYCAS.DATA_STANDARDIZED_4;\n\ttarget y / level=nominal;\n\tinput A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 \n\t\tA21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 \n\t\tA40 A41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 \n\t\tA59 A60 A61 A62 A63 A64 / level=interval;\n\tods output VariableImportance=work.RF_importance;\nrun;\n\nproc sql noprint;\n\tselect variable\n\tinto :list separated by ' '\n\tfrom RF_importance\n\twhere relativeImportance >= 0.1\n\t;\nquit;\n\ndata default.data_fs_rf_5c;\n\tset default.data_standardized_4;\n\tkeep &list. year y;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}},"id-1731237092224-21574":{"nodeType":"step","version":1,"id":"id-1731237092224-21574","name":"Feature selection - aggregation","note":{"version":1,"id":"id-1731237092225-21578","name":null,"description":"Wielowymiarowa selekcja zmiennych.\n4. Wybranie tych zmiennych, które zostały wybrane w każdej z 3 poprzednich metod.","properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":9,"properties":{"UI_PROP_XPOS":"926","UI_PROP_YPOS":"257","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_OUTPUT_PORT|outTables|0":"b83f9201-7a6d-43aa-9264-d6d79bca66da|Output table 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1721912191502","UI_PROP_PORT_ID|inTables|0":"3c1f2009-b456-4020-b1de-8ced9b8deb28","UI_PROP_PORT_LABEL|inTables|0":"Input table 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"data default.data_fs_best_5d;\n\tset default.data_fs_dt_5b;\n\tdrop A39 A44 A56;\nrun;","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}}],"contentType":"embedded"}}}},"parameters":{},"connections":[{"sourcePort":{"node":"id-1730648461914-1496","portName":"outTables","index":0},"targetPort":{"node":"id-1730696714230-3540","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1730696714230-3540","portName":"outTables","index":0},"targetPort":{"node":"id-1730741051277-11078","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1730741051277-11078","portName":"outTables","index":0},"targetPort":{"node":"id-1730742920398-16804","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1730742920398-16804","portName":"outTables","index":0},"targetPort":{"node":"id-1731169599075-2742","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1731169599075-2742","portName":"outTables","index":0},"targetPort":{"node":"id-1731170174739-5986","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1731170174739-5986","portName":"outTables","index":0},"targetPort":{"node":"id-1731181419056-912","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1731170174739-5986","portName":"outTables","index":0},"targetPort":{"node":"id-1731236214474-18203","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1731170174739-5986","portName":"outTables","index":0},"targetPort":{"node":"id-1731237092224-21574","portName":"inTables","index":0}},{"sourcePort":{"node":"id-1731170174739-5986","portName":"outTables","index":0},"targetPort":{"node":"id-1731235012651-13720","portName":"inTables","index":0}}],"extendedProperties":{},"stickyNotes":[]}